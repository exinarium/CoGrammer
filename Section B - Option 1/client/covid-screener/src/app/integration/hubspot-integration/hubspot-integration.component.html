<div class="container p-3">
    <div class="row">
        <div class="col text-center">
            <h3>Integrate with Hubspot</h3>
        </div>
    </div>
    <div class="card w-100 mt-2">
        <div class="card-body">
            <span *ngIf="startPage">
                <div class="row mt-3 fluid">
                    <div class="col">
                        <p>To start pushing your contacts to Hubspot follow these steps:</p>
                        <ul class="p-1 m-0">
                            <li class="m-1">
                                Inside Hubspot CRM navigate to Settings -> Integrations -> API Key
                            </li>
                            <li class="m-1">
                                Generate a new API Key if you don't have one already
                            </li>
                            <li class="m-1">
                                Copy the API Key into the input box provided by the 2020 Screener
                            </li>
                            <li class="m-1">
                                Save the integration
                            </li>
                            <li class="m-1">
                                We will add a special property called "2020 Screener Users" to indicate which contacts came from this integration
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="row mt-3 fluid">
                    <div class="col">
                        <a id="hubspot-button" class="btn btn-primary text-white w-100"
                            (click)="startIntegration()">
                            <i class="fab fa-hubspot text-white"></i> Setup Hubspot
                        </a>
                    </div>
                </div>
            </span>
            <form #form *ngIf="!startPage" class="needs-validation">               
                <div class="row mt-3 fluid">
                    <div class="col">
                        <div class="form-group">
                            <label for="formGroupApiKeyInput">API Key</label>
                            <input class="form-control" id="formGroupApiKeyInput" placeholder="API Key"
                              [(ngModel)]="apiKey" name="apiKey" required/>
                            <div class="invalid-feedback">
                              Please provide a valid API Key
                            </div>
                          </div>
                    </div>
                </div>                
                <div class="row mt-3 fluid">
                    <div class="col">
                        <div class="form-group">
                            <button class="btn btn-primary w-100" (click)="storeIntegration()">Save Integration</button>
                          </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<div id="loader-hubspot" class="modal fade" data-backdrop="static" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered justify-content-center" role="document">
        <div class="modal-content" style="background-color: transparent; border: none;">
            <div class="container">
                <div class="row">
                    <div class="col text-center">
                        <div class="spinner-border text-danger spinner-border-lg" role="status"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>